介绍

这本书将教你使用TLA+语言,怎么去编写计算机系统的规范说明.这是相当漫长的过程,但多数人将只阅读第一部分,其中包括83页的第一部分.那部分包括所有大多数工程师需要去知道的关于编写的规范说明的知识.这部分仅仅假设读者是基本的计算机和数学知识背景的本科生.为了熟悉的读者,第二部分包含更多的高级的材料.本书的其余部分是参考手册|第三部分是TLA+的工具和第四部分是语言本身.

TLA的网页包含于本书相关的工具,联系和参考文献和更正列表.在[*http://lamport.org*

你也可以通过在web上搜索21个字母的字符串**不要把这个字符串放在任何可能出现在web上的文档中.

什么是规范说明?

写作是自然的方式，让你知道你的思维是多么邋遢。 |Guindon

一份规范说明是一个系统应该做什么的书面描述.在建立系统之前,制定系统能帮助我们理解它.

这本书是关于制定系统的行为属性--也被成为他的功能或者逻辑属性.这些属性制定这个系统的目的是做什么.有我们不考虑的其他重要类型属性,包括性能属性.槽糕的性能经常作为行为属性表示--例如,第九章解释怎样制定一个系统必须在一个确定的时间长度之内反应.而然,制定一个平均性能是超出本文描述的方法范围.

我们对于编写规范的基本工具是数学.数学是一种自然的方式让你知道你的写作怎么糟蹋.使用一种不精确的语言,比如英语或者函数,很难做到精确.在工程上,印象可以导致错误.为了避免错误,科学与工程不得不采用数学作为他们的语言.

我们使用的数学比你成长过程中使用的数学要正式得多.正规的数学是自然的方式让你知道你的数学多么糟蹋.大多数数学家与科学家所写的数学并不是很准确.它在小的范围是精确的,但是在大的范围内饰不精确的.每个方程都是一个精确的断言,但是你必须阅读伴随的词来理解这些方程是如歌相互联系的以及定理的含义.逻辑学家已经开放除了清楚这些词的方法并使数学病的完全正式.因此,完全精确.

大多数数学家和科学家认为,没有单词的正式数学是冗长的而且令人厌倦的.他们错了.普通的数学可以使用一种精确的、完全正式的语言来表达。在第11章里的DI erential方程组里，只需要大约24行就可以解出任意的Di方程。但是很少有特殊的情况需要如此复杂的数学。大多数只需要简单地应用一些标准的数学概念。



什么是TLA+

我们通过描述系统的行为来制定一个系统,它在执行过程中可能会做什么.1977年,Amir Pnueli介绍了使用时序逻辑来描述系统行为.原则上,一个系统可以用一个时序逻辑来描述.在实践中,它并不能.Pnueli的时序逻辑很适合描述系统的一些属性,但对于其他人来说却很尴尬.所以,它通常与一种更传统的描述系统结合在一起.在20世纪80年代末,我发明了TLA,它的时序逻辑是Pnueli最初逻辑的一个变体.TLA通过一个公式来描述一个系统是可行的.大多数TLA规范都是由普通的非时序的数学组成的.时序逻辑只在描述它所擅长的属性的时候起作用.TLA还提供了一种很好的方式来形式化关于系统的推理风格,这种方法在实践中被证明是最具意义的,一种被称为"谓语推理"的风格.然而,这本书是关于规范的.它没有关于证明的东西.



时序逻辑假设了表达普通数学的基本逻辑.有许多可以方式可以形式化的普通数学.大多数计算机科学家更喜欢使用类似于他们喜爱的编程语言来使用形式化的数学.相反,我选择了大多数数学家更喜欢的方式,它们被称之为rstorder逻辑和集合论.



TLA为描述系统提供了一个数学基础.要编写规范,我们需要在这个基础上建立一个完备的语言.我最初认为这种语言应该是某种抽象的编程语言,它的语义是基于TLA的.我不知道什么样的编程语言结构是最好的,所以我决定直接在TLA上开始编写规范.我打算在我需要的时候引入编程结构.我惊讶地发现我不需要它们.我需要的是一种写数学的强大语言.



尽管数学家们已经发展出了书写公式的科学,但是他们没有把科学变成一门工程学科.他们已经在小范围的数学中发展了数学符号,但对于大范围的数学却不是这样的.一个真实系统的特殊情况可以是几十甚至几百页长的.数学家们知道如何写出20行公式,而不是20页公式.所以,我必须引入符号来写长公式.我从编程原因中得到的是模块化大的规范的想法.



我想到的是被称为TLA+的语言.我在编写不同系统的规范过程中,对TLA+进行了改良.但是在过去的几年中,情况几乎没有变化.我发现TLA+非常适合从程序接口到分布式系统中制定广泛的系统.它可以用来对几乎任何的离散系统进行精确的,正式的描述.它特别适合描述异步系统,即具有不严格锁步操作的组件的系统.



关于这本书

第一部分,由第1章到第7章组成,这是这本书的核心,是要从头到尾阅读的.它解释了如何制定称为安全属性的属性类.这些属性可以几乎不需要没有时序逻辑来规范,这是大多数工程师都需要知道的.



在阅读了第一部分后,你可以阅读尽可能多的第二部分.它的每个章节都独立与其他章节.在第8章节中,时序逻辑出现在前面,它被用来制定额外的属性类,被称为活性.第九章描述了如何制定实时属性,第10章描述了如何将规范作为组成.第11章包含了更高级的例子.



第三部分是三个TLA+工具的参考手册:语法分析器,TLATEX排版程序,TLC模型检查器.如果你想使用TLA+.那么你可能想要使用这些工具.它们可以从TLA Web页面获得.TLC是其中最复杂的.Web上的示例可以让你开始使用它,但是你必须阅读第14章来学习如何使用TLC.



第四部分是TLA语言的参考手册.第一部部分分为大多数目的提供了足够的语言工作知识.只有当你对语法和语义的新观点有疑问时,你猜需要查看第4部分.第15章给出了TLA+的语法内置操作符的确切含义和一般形式;第17章描述了所有更高层次的TLA+构造的确切含义，例如denitions。这两章一起指定了语言的语义。第18章描述了除mo之外的标准模块 .



第四部分确实有一些你可能想要提到的东西：一个简洁的迷你手册，它提供了很多有用的信息。列出所有TLA+操作符，所有用户可使用的符号，所有操作符的优先级，所有在标准模块中的操作符，以及像这样的符号的ascii表示。 